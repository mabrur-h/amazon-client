(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{284:function(t,e,r){"use strict";r.r(e);var n=r(22),c=(r(106),r(55),{middleware:function(t){var e=t.store,r=t.redirect;if(!e.state.auth.user.isAdmin)return r("/")},asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$axios,e.prev=1,e.next=4,r.get("/api/products");case 4:return n=e.sent,e.abrupt("return",{products:n.data.products});case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))()},methods:{onDeleteProduct:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,r.$axios.$delete("/api/products/".concat(t));case 3:n.sent.status&&r.product.splice(e,1),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0.message);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}}}),o=r(32),component=Object(o.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",[r("div",{staticClass:"a-spacing-large"}),t._v(" "),r("div",{staticClass:"container-fluid browsing-history"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-8 col-8"},[r("h1",{staticClass:"a-size-large a-spacing-none a-text-normal"},[t._v("All products")]),t._v(" "),r("div",{staticClass:"a-spacing-large"}),t._v(" "),r("nuxt-link",{staticClass:"a-button-buy-again",attrs:{to:"/admin/products"}},[t._v("Add a new product")]),t._v(" "),r("nuxt-link",{staticClass:"a-button-history margin-right-10",attrs:{to:"/admin/category"}},[t._v("Add a new category")]),t._v(" "),r("nuxt-link",{staticClass:"a-button-history margin-right-10",attrs:{to:"/admin/owner"}},[t._v("Add a new owner")])],1)])]),t._v(" "),r("div",{staticClass:"a-spacing-large"}),t._v(" "),r("div",{staticClass:"container-fluid browsing-history"},[r("div",{staticClass:"row"},t._l(t.products,(function(e,n){return r("div",{key:e._id,staticClass:"col-xl-2 col-lg-2 col-md-3 col-sm-6 br bb"},[r("div",{staticClass:"history-box"},[r("div",{staticClass:"text-center"},[r("a",{staticClass:"text-decoration-none",attrs:{href:"#"}},[r("img",{staticClass:"img-fluid",attrs:{src:e.photo,alt:e.title}})]),t._v(" "),r("div",{staticClass:"mt-3 asin-title"},[r("div",{staticClass:"a-text-normal"},[r("div",{staticClass:"p13n-sc-truncated"},[t._v("\n                  "+t._s(e.title)+"\n                ")])])]),t._v(" "),t._m(0,!0),t._v(" "),r("div",{staticClass:"a-row"},[r("span",{staticClass:"a-size-base a-color-price"},[r("span",{staticClass:"p13n-sc-price"},[t._v("\n                $"+t._s(e.price)+"\n              ")])])]),t._v(" "),r("div",{staticClass:"a-row"},[r("nuxt-link",{staticClass:"margin-right-10 a-button-history",attrs:{to:"/admin/products/"+e._id}},[t._v("\n                Update\n              ")]),t._v(" "),r("button",{staticClass:"margin-right-10 a-button-history",on:{click:function(r){return t.onDeleteProduct(e._id,n)}}},[t._v("\n                Delete\n              ")])],1)])])])})),0)])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"a-row"},[r("a",{attrs:{href:"#"}},[r("i",{staticClass:"fa fa-star"}),t._v(" "),r("i",{staticClass:"fa fa-star"}),t._v(" "),r("i",{staticClass:"fa fa-star"}),t._v(" "),r("i",{staticClass:"fa fa-star"}),t._v(" "),r("i",{staticClass:"fa fa-star"})]),t._v(" "),r("span",{staticClass:"a-letter-space"}),t._v(" "),r("span",{staticClass:"a-color-tertiary a-size-small asin-reviews"},[t._v("(1732)")])])}],!1,null,null,null);e.default=component.exports}}]);